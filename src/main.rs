use uplc_1_1_3;
use uplc_1_1_17;

fn main() {
    let tx_hex = "84a600d9010281825820cd82a190d3b4ef95a50bd791882959f541e308adb69b12d022d94a6d9f02bcf01864018182581d61f9ac9bdd7b20f7771087f7fe16e34b2d140e3ea2aba42ff3acea7dce1a0095de3f021a0002b841031a0942fbcb0b58209bad146ebea1841fdabfb688a30e4f477184543bbd3f709d64117c2dc32b7b3b0dd90102818258208802f2b0e5a72d915f67512d38d093d0dfa6f7b631adac82cc8cec13472932d502a206d901028158a558a30100003232323232323232222325333007323375e60180026018601a002600a00829309b2b1919299980419b87480000044c8c8c8c94ccc03cc0440084c8c9263007002300600316300f001300f002300d001300600516300600423253330083370e9000000899191919299980798088010a4c2c6eb8c03c004c03c008dd7180680098030010b1803000918029baa001230033754002ae6955ceaab9e5573eae855d1105818400000a82196d9c1a00893a42f5f6";
    let cost_model_hex = "a10198af1a000189b41901a401011903e818ad00011903e819ea350401192baf18201a000312591920a404193e801864193e801864193e801864193e801864193e801864193e80186418641864193e8018641a000170a718201a00020782182019f016041a0001194a18b2000119568718201a0001643519030104021a00014f581a00037c71187a0001011903e819a7a90402195fe419733a1826011a000db464196a8f0119ca3f19022e011999101903e819ecb2011a00022a4718201a000144ce1820193bc318201a0001291101193371041956540a197147184a01197147184a0119a9151902280119aecd19021d0119843c18201a00010a9618201a00011aaa1820191c4b1820191cdf1820192d1a18201a00014f581a00037c71187a0001011a0001614219020700011a000122c118201a00014f581a00037c71187a0001011a00014f581a00037c71187a0001011a000e94721a0003414000021a0004213c19583c041a00163cad19fc3604194ff30104001a00022aa818201a000189b41901a401011a00013eff182019e86a1820194eae182019600c1820195108182019654d182019602f18201a0290f1e70a1a032e93af1937fd0a1a0298e40b1966c40a";
    let input_hex = "825820cd82a190d3b4ef95a50bd791882959f541e308adb69b12d022d94a6d9f02bcf01864";
    let output_hex = "a300581d71c259132406ced727571bb92fc5f2e8cbea1d78c09e5b319d9ceacdb4011a00989680028201d818584fd8799fd87982581c29d222ce763455e3d7a09a665ce554f00ac89d2e99a1a83d267170c6434d494ed8799f581c29d222ce763455e3d7a09a665ce554f00ac89d2e99a1a83d267170c6434d494effff";
    let tx_bytes = hex::decode(tx_hex).unwrap();
    let cost_model_bytes = hex::decode(cost_model_hex).unwrap();
    let result_1_1_3 = uplc_1_1_3::tx::eval_phase_two_raw(
        &tx_bytes,
        &[(
            hex::decode(input_hex).unwrap(),
            hex::decode(output_hex).unwrap(),
        )],
        Some(&cost_model_bytes),
        (10000000000, 14000000),
        (1596059091000, 4492800, 1000),
        false,
        |_| (),
    );
    let result_1_1_17 = uplc_1_1_17::tx::eval_phase_two_raw(
        &tx_bytes,
        &[(
            hex::decode(input_hex).unwrap(),
            hex::decode(output_hex).unwrap(),
        )],
        Some(&cost_model_bytes),
        (10000000000, 14000000),
        (1596059091000, 4492800, 1000),
        false,
        |_| (),
    );
    println!("evaluate result v1.1.3: {:?}", result_1_1_3.is_ok());
    println!("evaluate result v1.1.17: {:?}", result_1_1_17.is_ok());
}
